<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mi Colegio</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="../style.css">
</head>
<body>

  <nav class="navbar navbar-expand-lg fixed-top shadow">
    <div class="container">
      <a class="navbar-brand" href="#">
        <img src="../img/logo f.jpeg" alt="Logo Colegio">
        COLEGIO FERNANDO LLORT CHOUSSY
      </a>

      <button class="navbar-toggler text-white" type="button" data-bs-toggle="collapse" data-bs-target="#menu" aria-controls="menu" aria-expanded="false" aria-label="Menú">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="menu">
    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="../index.html">Inicio</a></li>
          <li class="nav-item"><a class="nav-link" href="../pestañas/nosotros.html">Nosotros</a></li>
          <li class="nav-item"><a class="nav-link" href="../pestañas/eventos.html">Eventos</a></li>
          <li class="nav-item"><a class="nav-link" href="../pestañas/cronograma.html">Cronograma</a></li>
          <li class="nav-item"><a class="nav-link" href="../pestañas/cuotas.html">Cuotas</a></li>
          <li class="nav-item"><a class="nav-link" href="../pestañas/redes.html">Contactanos</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <body>
    <br>
    <br>

    <h1 class="title">Cronograma Escolar 2025</h1>
<!--################################ BOTON PARA AGREGAR EVENTO####################################-->
<div class="container my-4 text-center">
  <button id="btnAgregarEvento" class="btn btn-primary">Agregar Evento</button>
</div>

<!--################################ MODAL PARA AGREGAR EVENTO####################################-->
<div class="modal fade" id="eventoModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <form id="formEvento">
        <div class="modal-header">
          <h5 class="modal-title">Agregar Nuevo Evento</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="fecha" class="form-label">Fecha</label>
            <input type="date" name="fecha" class="form-control" required>
          </div>
          <div class="mb-3">
            <label for="descripcion" class="form-label">Descripción</label>
            <input type="text" name="descripcion" class="form-control" required>
          </div>
          <div class="mb-3">
            <label for="clave" class="form-label">Contraseña</label>
            <input type="password" name="clave" class="form-control" required>
          </div>
          <div id="mensajeEvento" class="text-success" style="display:none;"></div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Guardar</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        </div>
      </form>
    </div>
  </div>
</div>
<!--################################ FIN -MODAL PARA AGREGAR EVENTO####################################-->


    <div class="meses"> 
      <section class="mes">
        <header><h2>Enero 2025</h2></header>
        <div class="calendario">
          <div class="dia"><span class="numero">20 al 22</span><p>Periodo de adaptación</p><img src="../img/adaptación.jpg" alt="electo" class="imagen"></div>
          <div class="dia"><span class="numero">23</span><p>Inicio de Clases</p></div>
          <div class="dia"><span class="numero">31</span><p>Asamblea general de padres de familia</p></div>
        </div>
      </section>
  
      <section class="mes">
        <header><h2>Febrero 2025</h2></header>
        <div class="calendario">
          <div class="dia"><span class="numero">03 al 07</span><p>Proceso de elección del Gobierno Estudiantil</p></div>
          <div class="dia"><span class="numero">10 al 14</span><p>Inscripción de Partidos Políticos</p></div>
          <div class="dia"><span class="numero">14</span><p>Celebración del Día del Amor y la Amistad</p><img src="../img/amor.jpg" alt="AMO" class="imagen"></div>
          <div class="dia"><span class="numero">17 al 21</span><p>Propaganda de Gobierno Estudiantil</p><img src="../img/propaganda.jpg" alt="p" class="imagen"></div>
          <div class="dia"><span class="numero">17 al 21</span><p>Exámenes mensuales tercer ciclo y bachillerato</p></div>
          <div class="dia"><span class="numero">28</span><p>Elecciones Estudiantiles</p><img src="../img/aleccion.jpg" alt="MESSIIII" class="imagen"></div>
        </div>
      </section>

      <section class="mes">
        <header><h2>Marzo 2025</h2></header>
        <div class="calendario">
          <div class="dia"><span class="numero">03</span><p>Juramentación Gobierno Estudiantil 2025</p><img src="../img/ESCOGE.jpg" alt="wakala" class="imagen"></div>
          <div class="dia"><span class="numero">10 al 14</span><p>Exámenes mensuales tercer ciclo</p></div>
          <div class="dia"><span class="numero">10 al 14</span><p>Exámenes del 1ER. periodo Bachillerato</p></div>
        </div>
      </section>

      <section class="mes">
        <header><h2>Abril 2025</h2></header>
        <div class="calendario">
          <div class="dia"><span class="numero">04</span><p>Juegos intramuros 2025</p><img src="../img/intra.jpg" alt="intra" class="imagen"></div>
          <div class="dia"><span class="numero">10 al 14</span><p>Exámenes del 1ER. trimestre tercer ciclo</p></div>
          <div class="dia"><span class="numero">10 al 14</span><p>Exámenes mensuales Bachillerato</p></div>
          <div class="dia"><span class="numero">10 al 14</span><p>Periodo de recuperación 1ER Trimestre y Periodo</p></div>
          <div class="dia"><span class="numero">10 al 14</span><p>Organización y programación del torneo estudiantil 2025</p><img src="img/seleccion.jpg" alt="seleccion" class="imagen"></div>
        </div>
      </section>

      <section class="mes">
        <header><h2>Mayo 2025</h2></header>
        <div class="calendario">
          <div class="dia"><span class="numero">01</span><p>Asueto Nacional Día del Trabajo</p></div>
          <div class="dia"><span class="numero">02</span><p>1A. Escuela de padres y entrega de notas para Tercer Ciclo y Bachillerato</p></div>
          <div class="dia"><span class="numero">09</span><p>Celebración del Día de la Madre</p><img src="../img/madre.jpg" alt="madre" class="imagen"></div>
          <div class="dia"><span class="numero">19 al 23</span><p>Exámenes Mensuales Tercer ciclo y Bachillerato</p></div>
          <div class="dia"><span class="numero">09</span><p>Movie Fest</p><img src="../img/movie.jpg" alt="fest" class="imagen"></div>
        </div>
      </section>

      <section class="mes">
        <header><h2>Junio 2025</h2></header>
        <div class="calendario">
          <div class="dia"><span class="numero">06</span><p>Mañana Alegre CCB - CFL</p><img src="../img/mañana.jpg" alt="alegre" class="imagen"></div>
          <div class="dia"><span class="numero">09 al 13</span><p>Exámenes 2DO. Periodo Bachillerato</p></div>
          <div class="dia"><span class="numero">16 al 21</span><p>Periodo de Recuperación</p></div>
          <div class="dia"><span class="numero">21</span><p>Día del Maestro</p></div>
          <div class="dia"><span class="numero">23 al 27</span><p>Exámenes Mensuales Tercer Ciclo</p></div>
        </div>
      </section>

      <section class="mes">
        <header><h2>Julio 2025</h2></header>
        <div class="calendario">
          <div class="dia"><span class="numero">04</span><p>3er Festival de Teatro</p><img src="../img/teatro.jpg" alt="teatro" class="imagen"></div>
          <div class="dia"><span class="numero">14 al 18</span><p>Exámenes 2DO. Trimestre Tercer Ciclo</p></div>
          <div class="dia"><span class="numero">14 al 18</span><p>Exámenes Mensuales Bachillerato</p></div>
          <div class="dia"><span class="numero">25</span><p>Día del Estudiante</p><img src="../img/estudiante.jpg" alt="dia" class="imagen"></div>
          <div class="dia"><span class="numero">31</span><p>2DA. Escuela de Padres y entrega de notas para Tercer ciclo y Bachillerato</p></div>
        </div>
      </section>

      <section class="mes">
        <header><h2>Agosto 2025</h2></header>
        <div class="calendario">
          <div class="dia"><span class="numero">01 al 06</span><p>Vacaciones agostinas</p></div>
          <div class="dia"><span class="numero">18 al 22</span><p>Exámenes Mensuales Tercer ciclo</p></div>
          <div class="dia"><span class="numero">25 al 29</span><p>Exámenes Tercer Periodo Bachillerato</p></div>
        </div>
      </section>

      <section class="mes">
        <header><h2>Septiembre 2025</h2></header>
        <div class="calendario">
          <div class="dia"><span class="numero">01</span><p>Inauguración mes cívico</p><img src="../img/inaugura.jpg" alt="dia" class="imagen"></div>
          <div class="dia"><span class="numero">1 al 4</span><p>Periodo de recuperación</p></div>
          <div class="dia"><span class="numero">15</span><p>Celebración día de la independencia</p><img src="../img/septiembre.jpg" alt="dia" class="imagen"></div>
          <div class="dia"><span class="numero">22 al 26</span><p>Exámenes Mensuales de 3er ciclo y Bachillerato</p></div>
          <div class="dia"><span class="numero">30</span><p>Cierre mes cívico y coronación de reina y rey CFL 2025</p><img src="img/corona.jpg" alt="dia" class="imagen"></div>
        </div>
      </section>

      <section class="mes">
        <header><h2>Octubre 2025</h2></header>
        <div class="calendario">
          <div class="dia"><span class="numero">03</span><p>3RA. Escuela de padres y entrega de notas Bachillerato</p></div>
          <div class="dia"><span class="numero">10</span><p>Feria de logros y feria de emprendedores</p><img src="../img/feria.jpg" alt="dia" class="imagen"></div>
          <div class="dia"><span class="numero">30 al 31</span><p>Presentación y defensa de tesis de 2DO. año de Bachillerato</p></div>
        </div>
    </section>

      <section class="mes">
        <header><h2>Noviembre 2025</h2></header>
        <div class="calendario">
          <div class="dia"><span class="numero">03 al 07</span><p>Exámenes finales</p></div>
          <div class="dia"><span class="numero">10 al 14</span><p>Periodo de recuperación</p></div>
          <div class="dia"><span class="numero">15</span><p>Clausura y graduación de de Noveno Grado</p></div>
          <div class="dia"><span class="numero">22</span><p>Graduación de Bachillerato</p></div>
          <div class="dia"><span class="numero">A partir del 28</span><p>Entrega de Certificados</p></div>
        </div>
      </section>
    </div>
    <h1 style="text-align:center; text-shadow:1px 1px 2px #000; color:#c6dbff;">NUEVOS EVENTOS</h1>
    <div class="meses">
        <div id="eventosDinamicos">
        <div class="calendario"></div>
      </div>  
    </div>
    
   
  </body>

 <div class="social-floating">
    <a href="https://www.facebook.com/p/Colegio-Fernando-Llort-100070330146065/" target="_blank" style="background-color:#3b5998;">
      <img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Facebook_Logo_%282019%29.png" alt="Facebook">
    </a>
    <a href="https://www.instagram.com/colegio_fernandollort/" target="_blank" style="background-color:#e4405f;">
      <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram">
    </a>
    <a href="https://web.whatsapp.com/" target="_blank" style="background-color:#25d366;">
      <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
    </a>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const btnAgregar = document.getElementById("btnAgregarEvento");
  const modalEl = document.getElementById("eventoModal");
  const modal = new bootstrap.Modal(modalEl);
  const form = document.getElementById("formEvento");
  const mensaje = document.getElementById("mensajeEvento");
  const PASSWORD = "1234"; // contraseña para agregar evento

  // Mostrar modal
  btnAgregar.addEventListener("click", () => {
    modal.show();
  });

  // Envío del formulario
  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    
    const formData = new FormData(form);
    const clave = formData.get("clave");
    if (clave !== PASSWORD) {
      alert("Contraseña incorrecta");
      return;
    }

    const data = {
      fecha: formData.get("fecha"),
      descripcion: formData.get("descripcion")
    };

    try {
      const res = await fetch("/eventos", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });

      if (res.ok) {
        mensaje.style.display = "block";
        mensaje.textContent = "Evento agregado correctamente!";
        form.reset();
        setTimeout(() => {
          mensaje.style.display = "none";
          modal.hide();
          cargarEventos(); // recargar eventos
        }, 1500);
      } else {
        alert("Error al guardar evento");
      }
    } catch (err) {
      console.error(err);
      alert("Error de conexión con el servidor");
    }
  });

  // Función para cargar eventos desde el backend
async function cargarEventos() {
  try {
    const res = await fetch("/eventos");
    const eventos = await res.json();

    const contenedor = document.querySelector("#eventosDinamicos");
    contenedor.innerHTML = ""; // Limpiar solo los nuevos

    if (eventos.length === 0) {
 contenedor.innerHTML = `<p class="text-center text-muted" style="color: #c6dbff !important;">No hay eventos agregados aún.</p>
`;
      return;
    }

    // Agrupar eventos por mes
    const meses = {};
    eventos.forEach(ev => {
      const fecha = new Date(ev.fecha);
      const key = fecha.toLocaleString("es-ES", { month: "long", year: "numeric" });
      if (!meses[key]) meses[key] = [];
      meses[key].push(ev);
    });

    // Crear HTML por mes
    for (const mes in meses) {
      const mesDiv = document.createElement("section");
      mesDiv.classList.add("mes");
      mesDiv.innerHTML = `
        <header><h2>${mes} (Agregados)</h2></header>
        <div class="calendario"></div>
      `;
      const calendario = mesDiv.querySelector(".calendario");

      meses[mes].forEach(ev => {
        const fecha = new Date(ev.fecha);
        const diaStr = fecha.getDate().toString().padStart(2, "0");
        const dia = document.createElement("div");
        dia.classList.add("dia");
        dia.innerHTML = `
          <span class="numero">${diaStr}</span>
          <p>${ev.descripcion}</p>
        `;
        calendario.appendChild(dia);
      });

      contenedor.appendChild(mesDiv);
    }
  } catch (error) {
    console.error("Error al cargar eventos:", error);
  }
}
  // Cargar eventos al iniciar
  cargarEventos();
});
</script>


</html>